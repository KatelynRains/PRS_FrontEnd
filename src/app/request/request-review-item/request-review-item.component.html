<app-menu></app-menu>
<div id = "component">
    <div>
        <a routerLink = "/requestline/create">Create</a>
    </div>
  <div>
      <table class="table table=striped table-sm">
          <thead>
              <tr>
                  <th>Id</th>
                  <th>Description</th>
                  <th>Status</th>
                  <th>Rejection Reason</th>
                  <th>Total</th>
                  <th>User</th>
                </tr>
          </thead>
          <tbody>
              <tr>
                  <td>{{request.id}}</td>
                  <td>{{request.description}}</td>
                  <td>{{request.status}}</td>
                  <td>{{request.rejectionReason}}</td>
                  <td>{{request.total | currency}}</td>
                  <td>{{request.user?.username}}</td>
              </tr>
          </tbody>
      </table>
     
  </div>  
  <hr>
  <table class="table table=striped table-sm">
      <thead>
        <tr>
            <th>LineId</th>
            <th>Product</th>
            <th>Quantity</th>    
            <th>Price</th>
            <th>LineTotal</th>
           
        </tr>
      </thead>
      <tbody>
          <tr *ngFor ="let line of request.requestLines" >
              <td>{{line.id}}</td>
              <td>{{line.product?.name}}</td>
              <td>{{line.quantity}}</td>
              <td>{{line.product?.price|currency}}</td>
              <td>{{(+line.quantity * +line.product.price|currency)}}</td>
        </tr>
      </tbody>
  </table>
  <button (click)="approve()" class = "btn btn-primary">Approve</button>
  <span> | </span>
  <button (click)="reject()" class = "btn btn-primary">Reject</button>  
  <span> | </span>
  <input [(ngModel)]="request.rejectionReason" type="text" placeholder="Rejection Reason">
  <span> </span>
  <button (click)="addReason()" class = "btn btn-link">confirm reject</button>
 
</div>


